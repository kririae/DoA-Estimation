# 宽带信号

做法：

分割成小段   每个小段内的频率



每个小段做DFT 



### 短时傅里叶变换

1. 找滑窗   参照窗函数 针对很短的时间做一个fft  有一个时间频率图  对每一帧数据做fft  窗的大小自己确定    （信号依然是复数，会有两个图像）

2. 细节： 每个滑窗2$N$个采样点  标记为0~N-1 （复数）      没有讲   哥你快点讲

   ppt上的例子：第一个点是直流成分   只是实数

   1~3 和 5~7 是对称的   4的时候是零   可以推导出来。

   如果N是偶数  那么下标是N/2的时候一定是实数   一定是镜像对称（信号与系统上可能有证明过程）

   我们需要找到时间频域的矩阵  

   时间维度：很长的数据进行分段   多少个滑窗就多少个frame

   频率：多少个点

   由于有对称关系  我们只看正的就行

3. 整体

   一共四个数据   每个数据进行分帧处理。

   计算固定频点   频率就是omiga c  

   4*N的矩阵  N是采样点   设n是一个分窗里的点数

   则一共有N/n个窗。     每个窗的点作为列向量   每个列做fft  做完size不变 

   对于每一行   共同特性是频率相同

   每一列共同特性是时间相同  对于每一列  我们知道他的——(没跟上)

   每一行知道不同时间的频率能量

   这些玩意会有镜像对称   我们只取一半。

   然后   矩阵size/2（少一半的行）

   估计$P$表达式中的分母

   在每一个频率（行）上估计分母（子空间）

   把每个频率累加起来   做分母

   难点：短时傅里叶变换   建议自己打   切片

4. add some 细节

   关于如何处理时间频率矩阵：

   我们估计$R_x$ （期望）   这个期望是对时间取的

   现在我们换到频域上   短时傅里叶变换之后   （也就是对矩阵而言）

   对于离散的频率的点  数值大小是频率的幅值

   不同时间说话   能量的集中是不一样的    也就是同一频率   不同时间的能量强度是不一样的

   我们遍历每一行   每一行里遍历每一个时间  

   对于每一行  我们估计$R_x$  讲矩阵理解成矩阵的累加   4*5000  *  5000*4    理解成矩阵的叠加（没懂）

   取其中的一个频率   我们还能得到一个4*4 的矩阵 

   下面找$a(\theta)$  它是跟频率有关的   窄带的话是确定的（频率确定）

   对于宽带而言    我们遍历每一个频率  所以我们就能估计$a(\theta)$  每一行的频率能出来，每一行的a就能出来

   $U$ 来自于$R_x$  所以他也已知    所以根据P32上的公式  每一行最终都能算出来一个分母 

   至此   已经和窄带信号一样

   最后再找最大的俩就行