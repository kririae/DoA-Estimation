# Signal and System

[TOC]

## 欧拉公式

欧拉公式的内容：
$$
e^{\pi i} = -1
$$
而对于一个指数的信号，$e^{i\theta}$，经过一系列运算：
$$
e^{i\theta} = \cos \theta + i\sin \theta
$$
推导过程的话，我也懒得验证了，就这样吧。

可以看出复数的指数表示形式：
$$
re^{i\theta} = r(\cos \theta + i\sin\theta)
$$
后面的似乎应该用不到，我就不讲了。

## 系统的性质

> 所有性质并不是互斥的。

1. 稳定性（系统的输出有界）
2. 记忆性（系统的输出决定于过去或未来）
3. 因果性（系统的结果并不与将来有关）
4. 可逆性（就是可逆）
5. **时不变性**
6. **线性**

我们主要讨论 5/6。

### 时不变性

系统的特性不随时间改变

我本来想用通俗的语言解释，但是我发现通俗的语言解释不清楚后面的一个例题。

这个稍微需要一点数学语言了

假如对一个系统，$H$
$$
y_1(t) = H\{x_1(t)\}
$$
若 $x_1(t) \rightarrow x_1(t - t_0) = x_2(t)$，则 $y_2(t) = y_1(t - t_0) = H\{x_2(t)\}$

举个数学上的反例，对于一个热敏电阻
$$
y_1(t) = \frac{x_1(t)}{R(t)}
$$
对信号移动之后的结果是
$$
y_1(t - t_0) = \frac{x_1(t - t_0)}{R(t - t_0)}
$$
而其本来应该是
$$
y_2(t) = \frac{x_1(t - t_0)}{R(t)} \neq y_1(t - t_0)
$$
我知道你想问为什么，对于这个样例的最佳理解方式是

1. 注意，回归定义，其中有一步移动的只是输入信号，即 $x(t)$，移动的不是输出信号
2. 一般来说，不出现另一个与 time variable 有关的值

很有趣的一个玩**定义**的东西。

### 线性

1. 叠加性
2. 齐次性

不细讲了。证明部分也有点数学。

## 冲激信号

分为离散和连续两种情况

需要满足两个条件

1. $n = 0,\delta[n] = 0 \ (\delta(n) = 0)$
2. $\displaystyle\sum_k{\delta[k] = 1} \ 且 \ \displaystyle\int_{-\infty}^{\infty}{\delta(t) dt} = 1$

出现了一个公式
$$
\int_{-\infty}^{\infty}{x(t)\delta(t - t_0)} \mathrm{d}t = x(t_0)
$$
又出现了第二个公式
$$
\delta(at) = \frac{1}{a}\delta(t) \ (a > 0)
$$
积分瞎证明一下就好了。

## 卷积

这部分可能是，可能是比较重要的吧。

有
$$
x[n]\delta[n] = x[0]\delta[n]
$$
这个很显然吧，因为这玩意等效于只有$x[0]$处不为0。

但是，如果我们平移一下冲激序列$\delta[n]$呢
$$
x[n] \delta[n - k] = x[k] \delta[n - k]
$$
依然是，只有在 $n = k$ 时，有值，即提出 $x[n]$ 中的 $x[k]$

如此这般，写出 $x[n]$ 的表示形式
$$
x[n] = \sum_{k = -\infty}^{\infty}{x[k]\delta[n - k]}
$$
这里的 $\sum$ 中蕴含的加也就是信号的叠加，要刻下这种对求和的，在“坐标系”上的形象化表示。

然后，对于系统$H$，见公式：
$$
y[n] = H \bigg \{ \sum_{k = -\infty}^{\infty}{x[k]\delta[n - k]} \bigg \}
$$
线性的吧，然后交换求和顺序：
$$
y[n] = \sum_{k = -\infty}^{\infty}{H \{ x[k]\delta[n - k] \}}
$$
线性的吧，注意，系统 $H$ 是针对 $n$ 进行操作的，所以可以吧 $x[k]$ 提出来，然后把后续的 $\delta{[n - k]}$ 写作变换后的 $h[n - k]$

于是，卷积就是
$$
y[n] = \sum_{k = -\infty}^{\infty}{x[k]h[n - k]} = x[n] \ast h[n]
$$
等等，是不是很跳跃？我们回到最开始的公式，一下就能清晰很多

之前就说了，$\sum$ 是求信号，而一开始提到的 $x[n]\delta[n - k]$ 的意义是提出来某一项，这样你也大概知道，尽管“卷积”是作用于一整个信号的，但是不能如此整体考虑，我们需要从某一项来考虑

我现在再怎么多讲意义的理论也没用，这个问题可以留到我们之后的应用上，更重要的事情，是去理解Fourier Transform

## Remark

在开始傅里叶系列之前，我需要强调一点。

注意到了么，LTI 的性质给予了卷积一个思想：讲一个信号拆成一些简单的信号，然后对简单的信号单独处理，傅里叶级数则是讲信号拆成正弦函数。



还有一个，复正弦信号

$\sin(\omega t) \Rightarrow e^{i \omega t}$，好吧，信号中虚数符号时常写为 $j$，注意，并不是相等，之前我也讲了其与什么相等，复正弦信号只是一种表示方式

我再写明白一点，就是
$$
\Large e^{[2\pi f][j][t]}
$$
这玩意儿是个复数，按照之前的写法，是个绕着 $(0, 0)$ 绕圈圈的复数，绕到 $t = T$ 的时候，就正好绕了一圈。



## 直接开始傅里叶变换吧

首先，抽出傅里叶变换的公式
$$
X(j\omega) = \int_{-\infty}^{\infty}x(t)e^{j\omega t} dt
$$
要注意的是，$X(j\omega)$ 是一个复数，即复平面上的一个函数。

如果我们要画一个关于$n-f$ 的图，怎么画？为什么需要 `abs`，为什么需要 `fftshift`？

`abs` 倒是很简单，就是取实部。`fftshift` 会稍微复杂一些，看一个例子吧，虽然我也不知道为啥

```matlab
a = [1 2 3 4 5];
fftshift(a)
-> a = [4 5 3 1 2]
```

即将左半部分和右半部分平移互换。

至于为啥，这张图吧。

![MATLAB中的fft后为何要用fftshift](http://hiphotos.baidu.com/liuzhiliangliang/pic/item/e26243cbd17df72fbf09e670.jpg)

薅来的。



# Project的具体内容

最开始的音频矩阵为 $A$，我们要处理的是 $A, B$ 两个矩阵，是两个 $1 \times n$ 的矩阵。

我们两个麦克风的距离，假如是 $10^{-1}m$ 吧，声音通过这段距离的时间内的采样，最多 $10^{-1}/440 \cdot 44100$，大约 11 次。

但是很重要的一点是，存在一个”频率的问题“

假如说频率图是这样的：



和频率图是这样的：



两者得到的精度是不一样的

你不信拿 Matlab 来模拟一次，得到的结果，在平移一定距离以内都是无效的。

假设音频的频率是 $440Hz$，在振动一次的条件下，声音会传播一米，即我们需要处理这”振动一次内“的偏移情况，才能达到预计的算法精度。

Matlab 自带的 GCC-PHAT 能部分解决这个问题，我简单讲一下我看到的



